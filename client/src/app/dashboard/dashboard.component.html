<h1 *ngIf="dashboardVersion != null && dashboardVersion === UNSENTOVERVIEW"> Unsent Kit Overview </h1>
<h4 *ngIf="dashboardVersion != null && dashboardVersion === UNSENTOVERVIEW && isCreatingLabels != 0" class="Color--primary"> DSM is creating labels since {{
  isCreatingLabels | date:'medium' }}</h4>
<h1 *ngIf="dashboardVersion != null && dashboardVersion === SHIPPINGDASHBOARD"> Sample Summary </h1>
<h1 *ngIf="dashboardVersion != null && dashboardVersion === MEDICALRECORDDASHBOARD"> Study Dashboard </h1>

<div *ngIf="errorMessage != null">
  <h3 class="Color--warn Line--Break">{{errorMessage}}</h3>
  <br/>
</div>

<div *ngIf="additionalMessage != null">
  <h3 class="Color--primary Line--Break">{{additionalMessage}}</h3>
  <br/>
</div>

<span [hidden]="!loadingDDPData" class="Width--100">
  <div align="center" class="Width--100 Height--100">
    <i class="fas fa-spinner fa-spin fa-5x Color--primary"></i>
    <br/>
    <br/>
  </div>
</span>

<div *ngIf="errorMessage == null && allowedToSeeInformation && !loadingDDPData">

  <div *ngIf="dashboardVersion != null && dashboardVersion === UNSENTOVERVIEW && ddp != null" class="Width--100">
    <button class="Float--right" md-raised-button (click)="reloadUnsent()" color="primary" [disabled]="loadingDDPData">Reload Overview</button>
  </div>

  <div *ngIf="dashboardVersion != null && dashboardVersion === UNSENTOVERVIEW && ddp != null" class="Width--80">
    <br/>
    <h4>Express kits @ Queue</h4>
    <table class="table table-striped" [mfData]="ddp.unsentExpressKits" #mf="mfDataTable" [mfRowsOnPage]="10">
      <tbody>
      <tr *ngFor="let sKit of mf.data; let i = index;">
        <td>{{ddp.unsentExpressName(i)}}</td>
        <td>{{sKit.value}}</td>
      </tr>
      <tbody>
      <tfoot>
      <tr>
        <td colspan="5">
          <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50]"></mfBootstrapPaginator>
        </td>
      </tr>
      </tfoot>
    </table>
  </div>

  <div *ngIf="dashboardVersion != null && dashboardVersion === UNSENTOVERVIEW && ddp != null" class="Width--80">
    <h4>Unsent kits</h4>
    <button class="Float--right" type="button" md-raised-button color="primary"
            *ngIf="getRole().allowedToHandleSamples()"
            [disabled]="!kitsNoLabel"
            (click)="triggerLabelCreation(null, null)">Create ALL Labels
    </button>
    <br/>
    <br/>
    <br/>

    <table class="table table-striped" [mfData]="ddp.kits" #mf="mfDataTable" [mfRowsOnPage]="10">
      <tbody>
      <tr *ngFor="let sKit of mf.data">
        <table class="Width--100">
          <tr>
            <td colspan="2" class="Width--50"><b>{{sKit.realm}} {{sKit.kitType}}</b></td>
            <td></td>
            <td>
              <button class="Float--right" type="button" md-raised-button color="primary"
                      *ngIf="getRole().allowedToHandleSamples()"
                      [disabled]="sKit.kitsNoLabel === '0' || allLabelTriggered"
                      (click)="triggerLabelCreation(sKit.realm, sKit.kitType)">Create Labels
              </button>
            </td>
          </tr>
          <tr>
            <td>
            </td>
            <td>Kits without Labels <span *ngIf="sKit.kitsNoLabelMinDate != 0">(Oldest Kit: {{sKit.kitsNoLabelMinDate | date:'medium'}})</span></td>
            <td>{{sKit.kitsNoLabel}}</td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            </td>
            <td>Queue</td>
            <td>{{sKit.kitsQueue}}</td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            </td>
            <td>Error</td>
            <td>{{sKit.kitsError}}</td>
            <td>
            </td>
          </tr>
        </table>
      </tr>
      </tbody>
      <tfoot>
      <tr>
        <td colspan="5">
          <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50]"></mfBootstrapPaginator>
        </td>
      </tr>
      </tfoot>
    </table>
  </div>

  <div *ngIf="dashboardVersion != null && dashboardVersion === MEDICALRECORDDASHBOARD && ddp != null" class="Width--100">

    <div class="Width--100">
      <b>
        Start date of period
        <app-field-datepicker [dateString]="startDate" (dateChanged)="startChanged($event)"></app-field-datepicker>
        end date of period
        <app-field-datepicker [dateString]="endDate" (dateChanged)="endChanged($event)"></app-field-datepicker>
        <button class="Float--right" type="button" md-raised-button color="primary"
                (click)="reload()">Reload
        </button>

      </b>
    </div>

    <h3>{{ddp.ddpName}}</h3>
    <div *ngIf="ddp.dashboardValues != null && ddp.dashboardValuesPeriod != null" class="Width--100">
      <table class="table table-condensed">
        <thead>
        <tr>
          <th></th>
          <th>all</th>
          <th>period</th>
        </tr>
        </thead>
        <tbody>

        <tr>
          <td>Total number of PTs</td>
          <td>
            <ng-container *ngIf="ddp.dashboardValues['all'] !== null && ddp.dashboardValues['all'] !== undefined">{{ddp.dashboardValues['all']}} pts
            </ng-container>
          </td>
          <td>
            <ng-container *ngIf="ddp.dashboardValuesPeriod['all'] !== null && ddp.dashboardValuesPeriod['all'] !== undefined">
              {{ddp.dashboardValuesPeriod['all']}} pts
            </ng-container>
          </td>
        </tr>
        <tr>
          <td>PT Registered</td>
          <td>
            <ng-container
              *ngIf="ddp.dashboardValues['status.REGISTERED'] !== null && ddp.dashboardValues['status.REGISTERED'] !== undefined">
              {{ddp.dashboardValues['status.REGISTERED']}} pts
            </ng-container>
          </td>
          <td></td>
        </tr>
        <tr>
          <td>PT Enrolled</td>
          <td>
            <ng-container
              *ngIf="ddp.dashboardValues['status.ENROLLED'] !== null && ddp.dashboardValues['status.ENROLLED'] !== undefined">
              {{ddp.dashboardValues['status.ENROLLED']}} pts
            </ng-container>
          </td>
          <td></td>
        </tr>
        <tr>
          <td>PT Exited before Enrolled</td>
          <td>
            <ng-container
              *ngIf="ddp.dashboardValues['status.EXITED_BEFORE_ENROLLMENT'] !== null && ddp.dashboardValues['status.EXITED_BEFORE_ENROLLMENT'] !== undefined">
              {{ddp.dashboardValues['status.EXITED_BEFORE_ENROLLMENT']}} pts
            </ng-container>
          </td>
          <td></td>
        </tr>
        <tr>
          <td>PT Exited after Enrolled</td>
          <td>
            <ng-container
              *ngIf="ddp.dashboardValues['status.EXITED_AFTER_ENROLLMENT'] !== null && ddp.dashboardValues['status.EXITED_AFTER_ENROLLMENT'] !== undefined">
              {{ddp.dashboardValues['status.EXITED_AFTER_ENROLLMENT']}} pts
            </ng-container>
          </td>
          <td></td>
        </tr>
        <tr>
          <td>PT w/ Blood Consent</td>
          <td>
            <ng-container *ngIf="ddp.dashboardValues['bloodConsent'] !== null && ddp.dashboardValues['bloodConsent'] !== undefined">
              {{ddp.dashboardValues['bloodConsent']}} pts
            </ng-container>
          </td>
          <td></td>
        </tr>
        <tr>
          <td>PT w/ Tissue Consent</td>
          <td>
            <ng-container *ngIf="ddp.dashboardValues['tissueConsent'] !== null && ddp.dashboardValues['tissueConsent'] !== undefined">
              {{ddp.dashboardValues['tissueConsent']}} pts
            </ng-container>
          </td>
          <td></td>
        </tr>
        <ng-container *ngIf="getUniqueKitTypes() != null && getUniqueKitTypes().length >0">
          <ng-container *ngFor="let kitType of getUniqueKitTypes()">
            <tr>
              <td>{{kitType}} Waiting to get sent</td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesDetailed['kit.' + kitType + '.waiting'] !== null && ddp.dashboardValuesDetailed['kit.' + kitType + '.waiting'] !== undefined">
                  {{ddp.dashboardValuesDetailed['kit.' + kitType + '.waiting']}} kits/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValues['kit.' + kitType + '.waiting'] !== null && ddp.dashboardValues['kit.' + kitType + '.waiting'] !== undefined">
                  {{ddp.dashboardValues['kit.' + kitType + '.waiting']}} pts
                </ng-container>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>{{kitType}} Sent</td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesDetailed['kit.' + kitType + '.sent'] !== null && ddp.dashboardValuesDetailed['kit.' + kitType + '.sent'] !== undefined">
                  {{ddp.dashboardValuesDetailed['kit.' + kitType + '.sent']}} kits/
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValues['kit.' + kitType + '.sent'] !== null && ddp.dashboardValues['kit.' + kitType + '.sent'] !== undefined">
                  {{ddp.dashboardValues['kit.' + kitType + '.sent']}} pts
                </ng-container>
              </td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.sent'] !== null && ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.sent'] !== undefined">
                  {{ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.sent']}} kits/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriod['kit.' + kitType + '.sent'] !== null && ddp.dashboardValuesPeriod['kit.' + kitType + '.sent'] !== undefined">
                  {{ddp.dashboardValuesPeriod['kit.' + kitType + '.sent']}} pts
                </ng-container>
              </td>
            </tr>
            <tr>
              <td>{{kitType}} Received</td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesDetailed['kit.' + kitType + '.received'] !== null && ddp.dashboardValuesDetailed['kit.' + kitType + '.received'] !== undefined">
                  {{ddp.dashboardValuesDetailed['kit.' + kitType + '.received']}} kits/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValues['kit.' + kitType + '.received'] !== null && ddp.dashboardValues['kit.' + kitType + '.received'] !== undefined">
                  {{ddp.dashboardValues['kit.' + kitType + '.received']}} pts
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValues['kit.' + kitType + '.received'] !== null && ddp.dashboardValues['kit.' + kitType + '.received'] !== undefined
              && ddp.dashboardValuesDetailed['kit.' + kitType + '.received'] !== null && ddp.dashboardValuesDetailed['kit.' + kitType + '.received'] !== undefined
              && ddp.dashboardValues['kit.' + kitType + '.sent'] !== null && ddp.dashboardValues['kit.' + kitType + '.sent'] !== undefined
              && ddp.dashboardValuesDetailed['kit.' + kitType + '.sent'] !== null && ddp.dashboardValuesDetailed['kit.' + kitType + '.sent'] !== undefined">
                  ({{getPercentage(ddp.dashboardValuesDetailed['kit.' + kitType + '.received'], ddp.dashboardValuesDetailed['kit.' + kitType + '.sent'] )}}%
                  sets/ {{getPercentage(ddp.dashboardValues['kit.' + kitType + '.received'], ddp.dashboardValues['kit.' + kitType + '.sent'] )}}% pts)
                </ng-container>
              </td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.received'] !== null && ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.received'] !== undefined">
                  {{ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.received']}} kits/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriod['kit.' + kitType + '.received'] !== null && ddp.dashboardValuesPeriod['kit.' + kitType + '.received'] !== undefined">
                  {{ddp.dashboardValuesPeriod['kit.' + kitType + '.received']}} pts
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValuesPeriod['kit.' + kitType + '.received'] !== null && ddp.dashboardValuesPeriod['kit.' + kitType + '.received'] !== undefined
              && ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.received'] !== null && ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.received'] !== undefined
              && ddp.dashboardValuesPeriod['kit.' + kitType + '.sent'] !== null && ddp.dashboardValuesPeriod['kit.' + kitType + '.sent'] !== undefined
              && ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.sent'] !== null && ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.sent'] !== undefined">
                  ({{getPercentage(ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.received'], ddp.dashboardValuesPeriodDetailed['kit.' + kitType +
                  '.sent'] )}}% sets/ {{getPercentage(ddp.dashboardValuesPeriod['kit.' + kitType + '.received'], ddp.dashboardValuesPeriod['kit.' + kitType +
                  '.sent'] )}}% pts)
                </ng-container>
              </td>
            </tr>
            <tr>
              <td>{{kitType}} Deactivated</td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesDetailed['kit.' + kitType + '.deactivated'] !== null && ddp.dashboardValuesDetailed['kit.' + kitType + '.deactivated'] !== undefined">
                  {{ddp.dashboardValuesDetailed['kit.' + kitType + '.deactivated']}} kits/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValues['kit.' + kitType + '.deactivated'] !== null && ddp.dashboardValues['kit.' + kitType + '.deactivated'] !== undefined">
                  {{ddp.dashboardValues['kit.' + kitType + '.deactivated']}} pts
                </ng-container>
              </td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.deactivated'] !== null && ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.deactivated'] !== undefined">
                  {{ddp.dashboardValuesPeriodDetailed['kit.' + kitType + '.deactivated']}} kits/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriod['kit.' + kitType + '.deactivated'] !== null && ddp.dashboardValuesPeriod['kit.' + kitType + '.deactivated'] !== undefined">
                  {{ddp.dashboardValuesPeriod['kit.' + kitType + '.deactivated']}} pts
                </ng-container>
              </td>
            </tr>
          </ng-container>
        </ng-container>
        <tr>
          <td>PT with minimal mr</td>
          <td>
            <ng-container *ngIf="ddp.dashboardValues['minimalMR'] !== null && ddp.dashboardValues['minimalMR'] !== undefined">
              {{ddp.dashboardValues['minimalMR']}} pts
            </ng-container>
          </td>
          <td></td>
        </tr>

        <ng-container *ngIf="ddp.dashboardValuesDetailed['readyToRequest'] !== null && ddp.dashboardValuesDetailed['notRequested'] !== null
          && ddp.dashboardValuesDetailed['faxSent'] !== null ">
          <tr>
            <td>MR ready to request</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['readyToRequest'] !== null && ddp.dashboardValuesDetailed['readyToRequest'] !== undefined">
                {{ddp.dashboardValuesDetailed['readyToRequest']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['readyToRequest'] !== null && ddp.dashboardValues['readyToRequest'] !== undefined">
                {{ddp.dashboardValues['readyToRequest']}}
                pts
              </ng-container>
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>Total requestable MR</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['notRequested'] !== null && ddp.dashboardValuesDetailed['notRequested'] !== undefined">
                {{ddp.dashboardValuesDetailed['notRequested']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['notRequested'] !== null && ddp.dashboardValues['notRequested'] !== undefined">
                {{ddp.dashboardValues['notRequested']}}
                pts
              </ng-container>
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>Initial MR Request
              <ng-container *ngIf="showMedicalRecordRequestDetails">1</ng-container>
            </td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['faxSent'] !== null && ddp.dashboardValuesDetailed['faxSent'] !== undefined">
                {{ddp.dashboardValuesDetailed['faxSent']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['faxSent'] !== null && ddp.dashboardValues['faxSent'] !== undefined">{{ddp.dashboardValues['faxSent']}}
                pts
              </ng-container>
            </td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['faxSent'] !== null && ddp.dashboardValuesPeriodDetailed['faxSent'] !== undefined">
                {{ddp.dashboardValuesPeriodDetailed['faxSent']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriod['faxSent'] !== null && ddp.dashboardValuesPeriod['faxSent'] !== undefined">
                {{ddp.dashboardValuesPeriod['faxSent']}} pts
              </ng-container>
            </td>
            <td>
              <ng-container *ngIf="!showMedicalRecordRequestDetails">
                <button md-mini-fab color=""
                        (click)="showMedicalRecordRequestDetails = !showMedicalRecordRequestDetails">
                  <i class="fas fa-plus fa-lg"></i>
                </button>
                <span>  Show MR Request Details</span>
              </ng-container>
              <ng-container *ngIf="showMedicalRecordRequestDetails">
                <button md-mini-fab color=""
                        (click)="showMedicalRecordRequestDetails = !showMedicalRecordRequestDetails">
                  <i class="fas fa-minus fa-lg"></i>
                </button>
                <span>  Hide MR Request Details</span>
              </ng-container>
            </td>
          </tr>
          <ng-container *ngIf="showMedicalRecordRequestDetails">
            <tr>
              <td class="TD--Padding-BIG">Initial MR Request 2</td>
              <td>
                <ng-container *ngIf="ddp.dashboardValuesDetailed['faxSent2'] !== null && ddp.dashboardValuesDetailed['faxSent2'] !== undefined">
                  {{ddp.dashboardValuesDetailed['faxSent2']}} sets/
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValues['faxSent2'] !== null && ddp.dashboardValues['faxSent2'] !== undefined">
                  {{ddp.dashboardValues['faxSent2']}}
                  pts
                </ng-container>
              </td>
              <td>
                <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['faxSent2'] !== null && ddp.dashboardValuesPeriodDetailed['faxSent2'] !== undefined">
                  {{ddp.dashboardValuesPeriodDetailed['faxSent2']}} sets/
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValuesPeriod['faxSent2'] !== null && ddp.dashboardValuesPeriod['faxSent2'] !== undefined">
                  {{ddp.dashboardValuesPeriod['faxSent2']}} pts
                </ng-container>
              </td>
            </tr>
            <tr>
              <td class="TD--Padding-BIG">Initial MR Request 3</td>
              <td>
                <ng-container *ngIf="ddp.dashboardValuesDetailed['faxSent3'] !== null && ddp.dashboardValuesDetailed['faxSent3'] !== undefined">
                  {{ddp.dashboardValuesDetailed['faxSent3']}} sets/
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValues['faxSent3'] !== null && ddp.dashboardValues['faxSent3'] !== undefined">
                  {{ddp.dashboardValues['faxSent3']}}
                  pts
                </ng-container>
              </td>
              <td>
                <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['faxSent3'] !== null && ddp.dashboardValuesPeriodDetailed['faxSent3'] !== undefined">
                  {{ddp.dashboardValuesPeriodDetailed['faxSent3']}} sets/
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValuesPeriod['faxSent3'] !== null && ddp.dashboardValuesPeriod['faxSent3'] !== undefined">
                  {{ddp.dashboardValuesPeriod['faxSent3']}} pts
                </ng-container>
              </td>
            </tr>
          </ng-container>
          <tr>
            <td>Initial MR Received</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['mrReceived'] !== null && ddp.dashboardValuesDetailed['mrReceived'] !== undefined">
                {{ddp.dashboardValuesDetailed['mrReceived']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['mrReceived'] !== null && ddp.dashboardValues['mrReceived'] !== undefined">
                {{ddp.dashboardValues['mrReceived']}} pts
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['mrReceived'] !== null && ddp.dashboardValues['mrReceived'] !== undefined
              && ddp.dashboardValuesDetailed['mrReceived'] !== null && ddp.dashboardValuesDetailed['mrReceived'] !== undefined
              && ddp.dashboardValues['faxSent'] !== null && ddp.dashboardValues['faxSent'] !== undefined
              && ddp.dashboardValuesDetailed['faxSent'] !== null && ddp.dashboardValuesDetailed['faxSent'] !== undefined">
                ({{getPercentage(ddp.dashboardValuesDetailed['mrReceived'], ddp.dashboardValuesDetailed['faxSent'] )}}% sets/
                {{getPercentage(ddp.dashboardValues['mrReceived'], ddp.dashboardValues['faxSent'] )}}% pts)
              </ng-container>
            </td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['mrReceived'] !== null && ddp.dashboardValuesPeriodDetailed['mrReceived'] !== undefined">
                {{ddp.dashboardValuesPeriodDetailed['mrReceived']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriod['mrReceived'] !== null && ddp.dashboardValuesPeriod['mrReceived'] !== undefined">
                {{ddp.dashboardValuesPeriod['mrReceived']}} pts
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriod['mrReceived'] !== null && ddp.dashboardValuesPeriod['mrReceived'] !== undefined
              && ddp.dashboardValuesPeriodDetailed['mrReceived'] !== null && ddp.dashboardValuesPeriodDetailed['mrReceived'] !== undefined
              && ddp.dashboardValuesPeriod['faxSent'] !== null && ddp.dashboardValuesPeriod['faxSent'] !== undefined
              && ddp.dashboardValuesPeriodDetailed['faxSent'] !== null && ddp.dashboardValuesPeriodDetailed['faxSent'] !== undefined">
                ({{getPercentage(ddp.dashboardValuesPeriodDetailed['mrReceived'], ddp.dashboardValuesPeriodDetailed['faxSent'] )}}% sets/
                {{getPercentage(ddp.dashboardValuesPeriod['mrReceived'], ddp.dashboardValuesPeriod['faxSent'] )}}% pts)
              </ng-container>
            </td>
          </tr>
          <tr *ngIf="showMedicalRecordRequestDetails">
            <td class="TD--Padding-BIG">Medical records Follow-Up not requested</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['followupNotRequested'] !== null && ddp.dashboardValuesDetailed['followupNotRequested'] !== undefined">
                {{ddp.dashboardValuesDetailed['followupNotRequested']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['followupNotRequested'] !== null && ddp.dashboardValues['followupNotRequested'] !== undefined">
                {{ddp.dashboardValues['followupNotRequested']}} pts
              </ng-container>
            </td>
            <td>
            </td>
          </tr>
          <ng-container *ngIf="getHighestFollowUp() > 0 && showMedicalRecordRequestDetails">
            <ng-container *ngFor="let c of Arr(getHighestFollowUp()).fill(1); let i = index">
              <tr>
                <td class="TD--Padding-BIG">{{i+1 | ordinal}} Follow-Up MR Request</td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.'] !== null && ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.'] !== undefined">
                    {{ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.']}} sets/
                  </ng-container>
                  <ng-container *ngIf="ddp.dashboardValues['followUpSent.'+(i+1)+'.'] !== null && ddp.dashboardValues['followUpSent.'+(i+1)+'.'] !== undefined">
                    {{ddp.dashboardValues['followUpSent.'+(i+1)+'.']}} pts
                  </ng-container>
                </td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.'] !== null && ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.'] !== undefined">
                    {{ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.']}} sets/
                  </ng-container>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.'] !== null && ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.'] !== undefined">
                    {{ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.']}} pts
                  </ng-container>
                </td>
              </tr>
              <tr>
                <td class="TD--Padding-BIG">{{i+1 | ordinal}} Follow-Up MR Request 2</td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.2'] !== null && ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.2'] !== undefined">
                    {{ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.2']}} sets/
                  </ng-container>
                  <ng-container
                    *ngIf="ddp.dashboardValues['followUpSent.'+(i+1)+'.2'] !== null && ddp.dashboardValues['followUpSent.'+(i+1)+'.2'] !== undefined">
                    {{ddp.dashboardValues['followUpSent.'+(i+1)+'.2']}} pts
                  </ng-container>
                </td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.2'] !== null && ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.2'] !== undefined">
                    {{ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.2']}} sets/
                  </ng-container>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.2'] !== null && ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.2'] !== undefined">
                    {{ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.2']}} pts
                  </ng-container>
                </td>
              </tr>
              <tr>
                <td class="TD--Padding-BIG">{{i+1 | ordinal}} Follow-Up MR Request 3</td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.3'] !== null && ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.3'] !== undefined">
                    {{ddp.dashboardValuesDetailed['followUpSent.'+(i+1)+'.3']}} sets/
                  </ng-container>
                  <ng-container
                    *ngIf="ddp.dashboardValues['followUpSent.'+(i+1)+'.3'] !== null && ddp.dashboardValues['followUpSent.'+(i+1)+'.3'] !== undefined">
                    {{ddp.dashboardValues['followUpSent.'+(i+1)+'.3']}} pts
                  </ng-container>
                </td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.3'] !== null && ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.3'] !== undefined">
                    {{ddp.dashboardValuesPeriodDetailed['followUpSent.'+(i+1)+'.3']}} sets/
                  </ng-container>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.3'] !== null && ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.3'] !== undefined">
                    {{ddp.dashboardValuesPeriod['followUpSent.'+(i+1)+'.3']}} pts
                  </ng-container>
                </td>
              </tr>
              <tr>
                <td class="TD--Padding-BIG">{{i+1 | ordinal}} Follow-Up MR Received</td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesDetailed['followUpReceived'+(i+1)] !== null && ddp.dashboardValuesDetailed['followUpReceived'+(i+1)] !== undefined">
                    {{ddp.dashboardValuesDetailed['followUpReceived'+(i+1)]}} sets/
                  </ng-container>
                  <ng-container *ngIf="ddp.dashboardValues['followUpReceived'+(i+1)] !== null && ddp.dashboardValues['followUpReceived'+(i+1)] !== undefined">
                    {{ddp.dashboardValues['followUpReceived'+(i+1)]}} pts
                  </ng-container>
                </td>
                <td>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriodDetailed['followUpReceived'+(i+1)] !== null && ddp.dashboardValuesPeriodDetailed['followUpReceived'+(i+1)] !== undefined">
                    {{ddp.dashboardValuesPeriodDetailed['followUpReceived'+(i+1)]}} sets/
                  </ng-container>
                  <ng-container
                    *ngIf="ddp.dashboardValuesPeriod['followUpReceived'+(i+1)] !== null && ddp.dashboardValuesPeriod['followUpReceived'+(i+1)] !== undefined">
                    {{ddp.dashboardValuesPeriod['followUpReceived'+(i+1)]}} pts
                  </ng-container>
                </td>
              </tr>
            </ng-container>
          </ng-container>
          <tr>
            <td>Duplicate medical records</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['duplicateMedicalRecord'] !== null && ddp.dashboardValuesDetailed['duplicateMedicalRecord'] !== undefined">
                {{ddp.dashboardValuesDetailed['duplicateMedicalRecord']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['duplicateMedicalRecord'] !== null && ddp.dashboardValues['duplicateMedicalRecord'] !== undefined">
                {{ddp.dashboardValues['duplicateMedicalRecord']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Problem medical records</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['medicalRecordWithProblem'] !== null && ddp.dashboardValuesDetailed['medicalRecordWithProblem'] !== undefined">
                {{ddp.dashboardValuesDetailed['medicalRecordWithProblem']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['medicalRecordWithProblem'] !== null && ddp.dashboardValues['medicalRecordWithProblem'] !== undefined">
                {{ddp.dashboardValues['medicalRecordWithProblem']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>International medical records</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['internationalMedicalRecord'] !== null && ddp.dashboardValuesDetailed['internationalMedicalRecord'] !== undefined">
                {{ddp.dashboardValuesDetailed['internationalMedicalRecord']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['internationalMedicalRecord'] !== null && ddp.dashboardValues['internationalMedicalRecord'] !== undefined">
                {{ddp.dashboardValues['internationalMedicalRecord']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Unable to obtain medical records</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['unableToObtainMedicalRecord'] !== null && ddp.dashboardValuesDetailed['unableToObtainMedicalRecord'] !== undefined">
                {{ddp.dashboardValuesDetailed['unableToObtainMedicalRecord']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['unableToObtainMedicalRecord'] !== null && ddp.dashboardValues['unableToObtainMedicalRecord'] !== undefined">
                {{ddp.dashboardValues['unableToObtainMedicalRecord']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Follow-Up required medical records</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['followupRequiredMedicalRecord'] !== null && ddp.dashboardValuesDetailed['followupRequiredMedicalRecord'] !== undefined">
                {{ddp.dashboardValuesDetailed['followupRequiredMedicalRecord']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['followupRequiredMedicalRecord'] !== null && ddp.dashboardValues['followupRequiredMedicalRecord'] !== undefined">
                {{ddp.dashboardValues['followupRequiredMedicalRecord']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Paper c/r required</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['paperCRRequired'] !== null && ddp.dashboardValuesDetailed['paperCRRequired'] !== undefined">
                {{ddp.dashboardValuesDetailed['paperCRRequired']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['paperCRRequired'] !== null && ddp.dashboardValues['paperCRRequired'] !== undefined">
                {{ddp.dashboardValues['paperCRRequired']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Review required medical records</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['reviewMedicalRecord'] !== null && ddp.dashboardValuesDetailed['reviewMedicalRecord'] !== undefined">
                {{ddp.dashboardValuesDetailed['reviewMedicalRecord']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['reviewMedicalRecord'] !== null && ddp.dashboardValues['reviewMedicalRecord'] !== undefined">
                {{ddp.dashboardValues['reviewMedicalRecord']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>

          <tr>
            <td>Tissue not requested</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['tFaxNotSent'] !== null && ddp.dashboardValuesDetailed['tFaxNotSent'] !== undefined">
                {{ddp.dashboardValuesDetailed['tFaxNotSent']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tFaxNotSent'] !== null && ddp.dashboardValues['tFaxNotSent'] !== undefined">
                {{ddp.dashboardValues['tFaxNotSent']}}
                pts
              </ng-container>
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>Tissue Request
              <ng-container *ngIf="showTissueRequestDetails">1</ng-container>
            </td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['tFaxSent'] !== null && ddp.dashboardValuesDetailed['tFaxSent'] !== undefined">
                {{ddp.dashboardValuesDetailed['tFaxSent']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tFaxSent'] !== null && ddp.dashboardValues['tFaxSent'] !== undefined">
                {{ddp.dashboardValues['tFaxSent']}}
                pts
              </ng-container>
            </td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['tFaxSent'] !== null && ddp.dashboardValuesPeriodDetailed['tFaxSent'] !== undefined">
                {{ddp.dashboardValuesPeriodDetailed['tFaxSent']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriod['tFaxSent'] !== null && ddp.dashboardValuesPeriod['tFaxSent'] !== undefined">
                {{ddp.dashboardValuesPeriod['tFaxSent']}} pts
              </ng-container>
            </td>
            <td>
              <ng-container *ngIf="!showTissueRequestDetails">
                <button md-mini-fab color=""
                        (click)="showTissueRequestDetails = !showTissueRequestDetails">
                  <i class="fas fa-plus fa-lg"></i>
                </button>
                <span>  Show Tissue Request Details</span>
              </ng-container>
              <ng-container *ngIf="showTissueRequestDetails">
                <button md-mini-fab color=""
                        (click)="showTissueRequestDetails = !showTissueRequestDetails">
                  <i class="fas fa-minus fa-lg"></i>
                </button>
                <span>  Hide Tissue Request Details</span>
              </ng-container>
            </td>
          </tr>
          <tr *ngIf="showTissueRequestDetails">
            <td class="TD--Padding-BIG">Tissue Request 2</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['tFaxSent2'] !== null && ddp.dashboardValuesDetailed['tFaxSent2'] !== undefined">
                {{ddp.dashboardValuesDetailed['tFaxSent2']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tFaxSent2'] !== null && ddp.dashboardValues['tFaxSent2'] !== undefined">
                {{ddp.dashboardValues['tFaxSent2']}} pts
              </ng-container>
            </td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['tFaxSent2'] !== null && ddp.dashboardValuesPeriodDetailed['tFaxSent2'] !== undefined">
                {{ddp.dashboardValuesPeriodDetailed['tFaxSent2']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriod['tFaxSent2'] !== null && ddp.dashboardValuesPeriod['tFaxSent2'] !== undefined">
                {{ddp.dashboardValuesPeriod['tFaxSent2']}} pts
              </ng-container>
            </td>
          </tr>
          <tr *ngIf="showTissueRequestDetails">
            <td class="TD--Padding-BIG">Tissue Request 3</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['tFaxSent3'] !== null && ddp.dashboardValuesDetailed['tFaxSent3'] !== undefined">
                {{ddp.dashboardValuesDetailed['tFaxSent3']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tFaxSent3'] !== null && ddp.dashboardValues['tFaxSent3'] !== undefined">
                {{ddp.dashboardValues['tFaxSent3']}} pts
              </ng-container>
            </td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['tFaxSent3'] !== null && ddp.dashboardValuesPeriodDetailed['tFaxSent3'] !== undefined">
                {{ddp.dashboardValuesPeriodDetailed['tFaxSent3']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriod['tFaxSent3'] !== null && ddp.dashboardValuesPeriod['tFaxSent3'] !== undefined">
                {{ddp.dashboardValuesPeriod['tFaxSent3']}} pts
              </ng-container>
            </td>
          </tr>
          <tr>
            <td>Tissue Received</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['tissueReceived'] !== null && ddp.dashboardValuesDetailed['tissueReceived'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueReceived']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tissueReceived'] !== null && ddp.dashboardValues['tissueReceived'] !== undefined">
                {{ddp.dashboardValues['tissueReceived']}} pts
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tissueReceived'] !== null && ddp.dashboardValues['tissueReceived'] !== undefined
              && ddp.dashboardValuesDetailed['tissueReceived'] !== null && ddp.dashboardValuesDetailed['tissueReceived'] !== undefined
              && ddp.dashboardValues['tFaxSent'] !== null && ddp.dashboardValues['tFaxSent'] !== undefined
              && ddp.dashboardValuesDetailed['tFaxSent'] !== null && ddp.dashboardValuesDetailed['tFaxSent'] !== undefined">
                ({{getPercentage(ddp.dashboardValuesDetailed['tissueReceived'], ddp.dashboardValuesDetailed['tFaxSent'] )}}% sets/
                {{getPercentage(ddp.dashboardValues['tissueReceived'], ddp.dashboardValues['tFaxSent'] )}}% pts)
              </ng-container>
            </td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesPeriodDetailed['tissueReceived'] !== null && ddp.dashboardValuesPeriodDetailed['tissueReceived'] !== undefined">
                {{ddp.dashboardValuesPeriodDetailed['tissueReceived']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriod['tissueReceived'] !== null && ddp.dashboardValuesPeriod['tissueReceived'] !== undefined">
                {{ddp.dashboardValuesPeriod['tissueReceived']}} pts
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValuesPeriodDetailed['tissueReceived'] !== null && ddp.dashboardValuesPeriodDetailed['tissueReceived'] !== undefined
              && ddp.dashboardValuesDetailed['tissueReceived'] !== null && ddp.dashboardValuesDetailed['tissueReceived'] !== undefined
              && ddp.dashboardValuesPeriodDetailed['tFaxSent'] !== null && ddp.dashboardValuesPeriodDetailed['tFaxSent'] !== undefined
              && ddp.dashboardValuesDetailed['tFaxSent'] !== null && ddp.dashboardValuesDetailed['tFaxSent'] !== undefined">
                ({{getPercentage(ddp.dashboardValuesPeriodDetailed['tissueReceived'], ddp.dashboardValuesPeriodDetailed['tFaxSent'] )}}% sets/
                {{getPercentage(ddp.dashboardValuesPeriod['tissueReceived'], ddp.dashboardValuesPeriod['tFaxSent'] )}}% pts)
              </ng-container>
            </td>
          </tr>
          <tr>
            <td>Tissue Status 'Needs Review'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.review'] !== null && ddp.dashboardValuesDetailed['request.review'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.review']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.review'] !== null && ddp.dashboardValues['request.review'] !== undefined">
                {{ddp.dashboardValues['request.review']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Status 'Don't Request'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.no'] !== null && ddp.dashboardValuesDetailed['request.no'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.no']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.no'] !== null && ddp.dashboardValues['request.no'] !== undefined">
                {{ddp.dashboardValues['request.no']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Status 'On Hold'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.hold'] !== null && ddp.dashboardValuesDetailed['request.hold'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.hold']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.hold'] !== null && ddp.dashboardValues['request.hold'] !== undefined">
                {{ddp.dashboardValues['request.hold']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Status 'Request'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.request'] !== null && ddp.dashboardValuesDetailed['request.request'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.request']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.request'] !== null && ddp.dashboardValues['request.request'] !== undefined">
                {{ddp.dashboardValues['request.request']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Status 'Unable To Obtain'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.unable'] !== null && ddp.dashboardValuesDetailed['request.unable'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.unable']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.unable'] !== null && ddp.dashboardValues['request.unable'] !== undefined">
                {{ddp.dashboardValues['request.unable']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Status 'Sent'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.sent'] !== null && ddp.dashboardValuesDetailed['request.sent'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.sent']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.sent'] !== null && ddp.dashboardValues['request.sent'] !== undefined">
                {{ddp.dashboardValues['request.sent']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Status 'Received'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.received'] !== null && ddp.dashboardValuesDetailed['request.received'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.received']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.received'] !== null && ddp.dashboardValues['request.received'] !== undefined">
                {{ddp.dashboardValues['request.received']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Status 'Returned'</td>
            <td>
              <ng-container *ngIf="ddp.dashboardValuesDetailed['request.returned'] !== null && ddp.dashboardValuesDetailed['request.returned'] !== undefined">
                {{ddp.dashboardValuesDetailed['request.returned']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['request.returned'] !== null && ddp.dashboardValues['request.returned'] !== undefined">
                {{ddp.dashboardValues['request.returned']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Unable to Obtain</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['unableToObtainTissue'] !== null && ddp.dashboardValuesDetailed['unableToObtainTissue'] !== undefined">
                {{ddp.dashboardValuesDetailed['unableToObtainTissue']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['unableToObtainTissue'] !== null && ddp.dashboardValues['unableToObtainTissue'] !== undefined">
                {{ddp.dashboardValues['unableToObtainTissue']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr>
            <td>Tissue Problem</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tissueProblemOption'] !== null && ddp.dashboardValues['tissueProblemOption'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption']}} pts
              </ng-container>
            </td>
            <td></td>
            <td>
              <ng-container *ngIf="!showTissueProblemDetails">
                <button md-mini-fab color=""
                        (click)="showTissueProblemDetails = !showTissueProblemDetails">
                  <i class="fas fa-plus fa-lg"></i>
                </button>
                <span>  Show Tissue Problem Details</span>
              </ng-container>
              <ng-container *ngIf="showTissueProblemDetails">
                <button md-mini-fab color=""
                        (click)="showTissueProblemDetails = !showTissueProblemDetails">
                  <i class="fas fa-minus fa-lg"></i>
                </button>
                <span>  Hide Tissue Problem Details</span>
              </ng-container>
            </td>
          </tr>
          <tr *ngIf="showTissueProblemDetails">
            <td class="TD--Padding-BIG">Tissue Problem 'Insufficient material per path'</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption.insufficientPath'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption.insufficientPath'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption.insufficientPath']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['tissueProblemOption.insufficientPath'] !== null && ddp.dashboardValues['tissueProblemOption.insufficientPath'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption.insufficientPath']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr *ngIf="showTissueProblemDetails">
            <td class="TD--Padding-BIG">Tissue Problem 'Insufficient material per SHL'</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption.insufficientSHL'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption.insufficientSHL'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption.insufficientSHL']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['tissueProblemOption.insufficientSHL'] !== null && ddp.dashboardValues['tissueProblemOption.insufficientSHL'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption.insufficientSHL']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr *ngIf="showTissueProblemDetails">
            <td class="TD--Padding-BIG">Tissue Problem 'No e signatures'</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption.noESign'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption.noESign'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption.noESign']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['tissueProblemOption.noESign'] !== null && ddp.dashboardValues['tissueProblemOption.noESign'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption.noESign']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr *ngIf="showTissueProblemDetails">
            <td class="TD--Padding-BIG">Tissue Problem 'Path department policy'</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption.pathPolicy'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption.pathPolicy'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption.pathPolicy']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['tissueProblemOption.pathPolicy'] !== null && ddp.dashboardValues['tissueProblemOption.pathPolicy'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption.pathPolicy']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr *ngIf="showTissueProblemDetails">
            <td class="TD--Padding-BIG">Tissue Problem 'Path department unable to locate'</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption.pathNoLocate'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption.pathNoLocate'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption.pathNoLocate']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['tissueProblemOption.pathNoLocate'] !== null && ddp.dashboardValues['tissueProblemOption.pathNoLocate'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption.pathNoLocate']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr *ngIf="showTissueProblemDetails">
            <td class="TD--Padding-BIG">Tissue Problem 'Tissue destroyed'</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption.destroyed'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption.destroyed'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption.destroyed']}} sets/
              </ng-container>
              <ng-container
                *ngIf="ddp.dashboardValues['tissueProblemOption.destroyed'] !== null && ddp.dashboardValues['tissueProblemOption.destroyed'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption.destroyed']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
          <tr *ngIf="showTissueProblemDetails">
            <td class="TD--Padding-BIG">Tissue Problem 'Other'</td>
            <td>
              <ng-container
                *ngIf="ddp.dashboardValuesDetailed['tissueProblemOption.other'] !== null && ddp.dashboardValuesDetailed['tissueProblemOption.other'] !== undefined">
                {{ddp.dashboardValuesDetailed['tissueProblemOption.other']}} sets/
              </ng-container>
              <ng-container *ngIf="ddp.dashboardValues['tissueProblemOption.other'] !== null && ddp.dashboardValues['tissueProblemOption.other'] !== undefined">
                {{ddp.dashboardValues['tissueProblemOption.other']}} pts
              </ng-container>
            </td>
            <td></td>
          </tr>
        </ng-container>

        <ng-container *ngFor="let dashboardValue of activityKeys">
          <ng-container *ngIf="getActivityName(dashboardValue) as activity">
            <tr class="Cell--Bottom-Border-Highlight">
              <td>"{{activity}}" started</td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesDetailed[dashboardValue] !== null && ddp.dashboardValuesDetailed[dashboardValue] !== undefined">
                  {{ddp.dashboardValuesDetailed[dashboardValue]}} sets/
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValues[dashboardValue] !== null && ddp.dashboardValues[dashboardValue] !== undefined">
                  {{ddp.dashboardValues[dashboardValue]}} pts
                </ng-container>
              </td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriodDetailed[dashboardValue] !== null && ddp.dashboardValuesPeriodDetailed[dashboardValue] !== undefined">
                  {{ddp.dashboardValuesPeriodDetailed[dashboardValue]}} sets/
                </ng-container>
                <ng-container *ngIf="ddp.dashboardValuesPeriod[dashboardValue] !== null && ddp.dashboardValuesPeriod[dashboardValue] !== undefined">
                  {{ddp.dashboardValuesPeriod[dashboardValue]}} pts
                </ng-container>
              </td>
              <td>
                <ng-container *ngIf="!showActivityDetails[dashboardValue]">
                  <button md-mini-fab color=""
                          (click)="showActivityDetails[dashboardValue] = !showActivityDetails[dashboardValue]">
                    <i class="fas fa-plus fa-lg"></i>
                  </button>
                  <span>  Show "{{activity}}" Details</span>
                </ng-container>
                <ng-container *ngIf="showActivityDetails[dashboardValue]">
                  <button md-mini-fab color=""
                          (click)="showActivityDetails[dashboardValue] = !showActivityDetails[dashboardValue]">
                    <i class="fas fa-minus fa-lg"></i>
                  </button>
                  <span>  Hide "{{activity}}" Details</span>
                </ng-container>
              </td>
            </tr>
            <tr>
              <td>"{{activity}}" completed</td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesDetailed[dashboardValue+'.completed'] !== null && ddp.dashboardValuesDetailed[dashboardValue+'.completed'] !== undefined">
                  {{ddp.dashboardValuesDetailed[dashboardValue+'.completed']}} sets/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValues[dashboardValue+'.completed'] !== null && ddp.dashboardValues[dashboardValue+'.completed'] !== undefined">
                  {{ddp.dashboardValues[dashboardValue+'.completed']}} pts
                </ng-container>
              </td>
              <td>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriodDetailed[dashboardValue+'.completed'] !== null && ddp.dashboardValuesPeriodDetailed[dashboardValue+'.completed'] !== undefined">
                  {{ddp.dashboardValuesPeriodDetailed[dashboardValue+'.completed']}} sets/
                </ng-container>
                <ng-container
                  *ngIf="ddp.dashboardValuesPeriod[dashboardValue+'.completed'] !== null && ddp.dashboardValuesPeriod[dashboardValue+'.completed'] !== undefined">
                  {{ddp.dashboardValuesPeriod[dashboardValue+'.completed']}} pts
                </ng-container>
              </td>
            </tr>
            <ng-container *ngIf="showActivityDetails[dashboardValue]">
              <ng-container *ngFor="let dashboardValue of getActivityVersionKeys(ddp.dashboardValues, activity)">
                <tr>
                  <td>"{{activity}}" started ({{getActivityVersion(dashboardValue)}})</td>
                  <td>
                    <ng-container *ngIf="ddp.dashboardValuesDetailed[dashboardValue] !== null && ddp.dashboardValuesDetailed[dashboardValue] !== undefined">
                      {{ddp.dashboardValuesDetailed[dashboardValue]}} sets/
                    </ng-container>
                    <ng-container *ngIf="ddp.dashboardValues[dashboardValue] !== null && ddp.dashboardValues[dashboardValue] !== undefined">
                      {{ddp.dashboardValues[dashboardValue]}} pts
                    </ng-container>
                  </td>
                  <td>
                    <ng-container
                      *ngIf="ddp.dashboardValuesPeriodDetailed[dashboardValue] !== null && ddp.dashboardValuesPeriodDetailed[dashboardValue] !== undefined">
                      {{ddp.dashboardValuesPeriodDetailed[dashboardValue]}} sets/
                    </ng-container>
                    <ng-container *ngIf="ddp.dashboardValuesPeriod[dashboardValue] !== null && ddp.dashboardValuesPeriod[dashboardValue] !== undefined">
                      {{ddp.dashboardValuesPeriod[dashboardValue]}} pts
                    </ng-container>
                  </td>
                </tr>
                <tr>
                  <td>"{{activity}}" completed ({{getActivityVersion(dashboardValue)}})</td>
                  <td>
                    <ng-container
                      *ngIf="ddp.dashboardValuesDetailed[dashboardValue+'.completed'] !== null && ddp.dashboardValuesDetailed[dashboardValue+'.completed'] !== undefined">
                      {{ddp.dashboardValuesDetailed[dashboardValue+'.completed']}} sets/
                    </ng-container>
                    <ng-container
                      *ngIf="ddp.dashboardValues[dashboardValue+'.completed'] !== null && ddp.dashboardValues[dashboardValue+'.completed'] !== undefined">
                      {{ddp.dashboardValues[dashboardValue+'.completed']}} pts
                    </ng-container>
                  </td>
                  <td>
                    <ng-container
                      *ngIf="ddp.dashboardValuesPeriodDetailed[dashboardValue+'.completed'] !== null && ddp.dashboardValuesPeriodDetailed[dashboardValue+'.completed'] !== undefined">
                      {{ddp.dashboardValuesPeriodDetailed[dashboardValue+'.completed']}} sets/
                    </ng-container>
                    <ng-container
                      *ngIf="ddp.dashboardValuesPeriod[dashboardValue+'.completed'] !== null && ddp.dashboardValuesPeriod[dashboardValue+'.completed'] !== undefined">
                      {{ddp.dashboardValuesPeriod[dashboardValue+'.completed']}} pts
                    </ng-container>
                  </td>
                </tr>
              </ng-container>
            </ng-container>
          </ng-container>
        </ng-container>
        <tr>
          <td colspan="4">
            <br/>
            <md-select placeholder="Select source" [(ngModel)]="downloadSource" class="Input--Bigger-WIDTH">
              <md-option *ngFor="let key of getSourceKeys()" [value]="key">{{dataSources.get(key)}}</md-option>
            </md-select>
            <button type="button" md-raised-button color="primary"
                    (click)="dataExport(downloadSource)"
                    [disabled]="participantList.length == 0 || downloadSource == null">Export Data
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!--Shipping - Dashboard-->
  <div *ngIf="dashboardVersion != null && dashboardVersion === SHIPPINGDASHBOARD && ddp != null" class="Width--100">
    <h3>{{ddp.ddpName}}</h3>
    <div *ngIf="ddp.deactivatedCounters != null" class="Width--100" style="display: inline-block;">
      <h4>Deactivated kits</h4>
      <div *ngFor="let deac of ddp.deactivatedCounters">
        {{deac.name}}: {{deac.value}}
      </div>
    </div>
    <br/>
    <br/>
    <div *ngIf="ddp.sentCounters != null" class="Width--100" style="display: inline-block;">
      <h4>Sent kits</h4>
      <div *ngFor="let sent of ddp.sentCounters">
        <h5>{{sent.kitType}}</h5>
        <ng-container *ngIf="sent.counters == null || sent.counters.length === 0">
          No kits sent yet
        </ng-container>
        <ng-container *ngIf="sent.counters != null && sent.counters.length > 0">
          <table class="table table-striped" [mfData]="sent.counters | dashboardDateSort" #mf="mfDataTable" [mfRowsOnPage]="10">
            <tbody>
            <tr *ngFor="let kitTypes of mf.data">
              <td>{{kitTypes.name}}</td>
              <td>{{kitTypes.value}}</td>
            </tr>
            <tbody>
            <tfoot>
            <tr>
              <td colspan="5">
                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50]"></mfBootstrapPaginator>
              </td>
            </tr>
            </tfoot>
          </table>
        </ng-container>
      </div>
    </div>
    <br/>
    <br/>
    <div *ngIf="ddp.receivedCounters != null" class="Width--100" style="display: inline-block;">
      <h4>Received kits</h4>
      <div *ngFor="let received of ddp.receivedCounters">
        <h5>{{received.kitType}}</h5>
        <ng-container *ngIf="received.counters == null || received.counters.length === 0">
          No kits received yet
        </ng-container>
        <ng-container *ngIf="received.counters != null && received.counters.length > 0">
          <table class="table table-striped" [mfData]="received.counters | dashboardDateSort" #mf="mfDataTable" [mfRowsOnPage]="10">
            <tbody>
            <tr *ngFor="let kitTypes of mf.data">
              <td>{{kitTypes.name}}</td>
              <td>{{kitTypes.value}}</td>
            </tr>
            <tbody>
            <tfoot>
            <tr>
              <td colspan="5">
                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50]"></mfBootstrapPaginator>
              </td>
            </tr>
            </tfoot>
          </table>
        </ng-container>
      </div>
    </div>
  </div>
</div>
