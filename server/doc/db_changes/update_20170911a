# added new rights for eel analytics
INSERT INTO `access_role` (`name`) VALUES ('eel_view');

ALTER TABLE `user_settings`
ADD COLUMN `emailEvents_rows_on_page` INT(10) NULL DEFAULT NULL AFTER `mailing_rows_set_2`,
ADD COLUMN `emailEvents_rows_set_0` INT(10) NULL DEFAULT NULL AFTER `emailEvents_rows_on_page`,
ADD COLUMN `emailEvents_rows_set_1` INT(10) NULL DEFAULT NULL AFTER `emailEvents_rows_set_0`,
ADD COLUMN `emailEvents_rows_set_2` INT(10) NULL DEFAULT NULL AFTER `emailEvents_rows_set_1`;

CREATE TABLE `eel_settings` (
  `eel_setting_id` int(15) NOT NULL AUTO_INCREMENT,
  `instance_id` int(15) NOT NULL,
  `template_id` varchar(200) NOT NULL,
  `name` varchar(200) DEFAULT NULL,
  `workflow_id` int(10) DEFAULT NULL,
  `response_days` int(10) DEFAULT NULL,
  PRIMARY KEY (`eel_setting_id`),
  UNIQUE KEY `ddp_instance_template_UNIQUE` (`instance_id`,`template_id`),
  UNIQUE KEY `instance_workflow_UNIQUE` (`instance_id`,`workflow_id`),
  KEY `ddp_instance_pk_idx` (`instance_id`),
  CONSTRAINT `ddp_instance_pk` FOREIGN KEY (`instance_id`) REFERENCES `ddp_instance` (`ddp_instance_id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `eel_follow_up` (
  `eel_follow_up_id` int(15) NOT NULL AUTO_INCREMENT,
  `SGE_ID` bigint(20) NOT NULL,
  `ddp_instance_id` int(15) NOT NULL,
  `follow_up` varchar(45) DEFAULT NULL,
  `last_changed` bigint(20) NOT NULL,
  `changed_by` varchar(45) NOT NULL,
  PRIMARY KEY (`eel_follow_up_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

#just helpful
ALTER TABLE `ddp_kit`
ADD COLUMN `scan_by` VARCHAR(45) NULL DEFAULT NULL AFTER `scan_date`;

ALTER TABLE `ddp_kit_tracking`
ADD COLUMN `scan_by` VARCHAR(45) NULL DEFAULT NULL AFTER `scan_date`;

ALTER TABLE `kit_dimension`
ADD COLUMN `kit_description` VARCHAR(45) NULL AFTER `kit_weight`;

#multiple carrier accounts
ALTER TABLE `carrier_service`
ADD COLUMN `easypost_carrier_id` VARCHAR(45) NULL DEFAULT NULL AFTER `carrier`;

#special shipping view
ALTER TABLE `kit_type`
ADD COLUMN `required_role` INT(15) NULL DEFAULT NULL AFTER `customs_json`;

INSERT INTO `access_role` (`name`) VALUES ('kit_shipping_fitbit');

#if a SM-ID kit gets received
ALTER TABLE `ddp_kit`
ADD COLUMN `receive_by` VARCHAR(45) NULL DEFAULT NULL AFTER `receive_date`;

#manual sent track
ALTER TABLE `kit_type`
ADD COLUMN `manual_sent_track` TINYINT(1) NULL DEFAULT NULL AFTER `required_role`;

#receive scan page
INSERT INTO `access_role` (`name`) VALUES ('kit_receiving');
